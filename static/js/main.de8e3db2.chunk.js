(this["webpackJsonphexo-dishes"]=this["webpackJsonphexo-dishes"]||[]).push([[0],{139:function(e,t,n){},245:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),i=n.n(c),s=(n(139),n(118)),o=n(119),l=n(124),u=n(122),b=(n(97),n(123)),j=n(20),p=n(56),d=n(288),h=n(287),m=n(284),O=n(289),f=n(246),x=n(250),v=n(249),y=n(251),g=n(120),C=n.n(g),P=n(291),_=n(285),k=n(286),z=n(92),S=["name","preparation_time","type"],w={"":[],pizza:["no_of_slices","diameter"],soup:["spiciness_scale"],sandwich:["slices_of_bread"]};var I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=S;return e&&(n=[].concat(Object(z.a)(n),Object(z.a)(w[e]))),t?Object.keys(t).reduce((function(e,a){return n.includes(a)&&(e[a]=t[a]),e}),{}):n},D=n(93),N={headers:{"Content-Type":"application/json"}},T=function(e,t){return{dishes:{url:"https://frosty-wood-6558.getsandbox.com:443/dishes",init:Object(j.a)(Object(j.a)({},N),{},{method:t,body:JSON.stringify(e)})}}},F=function(e){var t=T(I(e.type,e),"POST").dishes;return new Promise((function(e,n){fetch(t.url,t.init).then((function(t){var a=Promise.resolve(t.json());t.ok?a.then((function(t){alert("Dish submitted successfully. Response:\n"+Object.keys(t).map((function(e){return"\n"+e+": "+t[e]}))),e()})):a.then((function(e){n(new D.a(e))}))}))}))},A=n(7),J=["label","input","type","meta"],B=["label","input","mask","formatChars","meta"],E=["input","label","onChange","meta","children"],R=["input","label","InputProps"],Z=function(e){var t=e.touched,n=e.error;return t&&n?Object(A.jsx)(f.a,{children:t&&n}):void 0},q=function(e){var t=e.label,n=e.input,a=e.type,r=e.meta,c=r.touched,i=r.invalid,s=r.error,o=Object(p.a)(e,J);return Object(A.jsx)(m.a,Object(j.a)({label:t,placeholder:t,type:a,error:c&&i,helperText:c&&s,value:n.value,onChange:function(e){return"number"===a?n.onChange(Number(e.target.value)):n.onChange(e.target.value)}},o))},L=function(e){var t=e.label,n=e.input,a=e.mask,r=e.formatChars,c=e.meta,i=c.touched,s=c.invalid,o=c.error,l=Object(p.a)(e,B);return Object(A.jsx)(C.a,Object(j.a)(Object(j.a)(Object(j.a)({mask:a,disabled:!1,maskChar:"0",formatChars:Object(j.a)(Object(j.a)({},r),{},{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"})},n),l),{},{children:function(){return Object(A.jsx)(m.a,{label:t,placeholder:t,error:i&&s,helperText:i&&o})}}))},V=function(e){var t=e.input,n=e.label,a=e.onChange,r=e.meta,c=r.touched,i=r.error,s=e.children,o=Object(p.a)(e,E);return Object(A.jsxs)(x.a,{error:c&&!!i,children:[Object(A.jsx)(y.a,{children:n}),Object(A.jsx)(v.a,Object(j.a)(Object(j.a)(Object(j.a)({native:!0,onChange:a},t),o),{},{children:s})),Z({touched:c,error:i})]})},G=function(e){var t=e.input,n=e.label,a=e.InputProps,r=Object(p.a)(e,R);return Object(A.jsxs)("div",{children:[Object(A.jsx)(_.a,{gutterBottom:!0,children:n}),Object(A.jsx)(P.a,Object(j.a)(Object(j.a)({valueLabelDisplay:"auto",value:t.value,onChange:function(e,n){return t.onChange(n)}},a),r))]})},H=function(e){var t=e.handleSubmit,n=e.submitting,r=Object(a.useState)(""),c=Object(b.a)(r,2),i=c[0],s=c[1];return Object(A.jsxs)("form",{onSubmit:t(F),children:[Object(A.jsx)("div",{children:Object(A.jsx)(d.a,{name:"name",component:q,label:"Dish name"})}),Object(A.jsx)("div",{children:Object(A.jsx)(d.a,{name:"preparation_time",component:L,label:"Preparation time",mask:"99:59:59",formatChars:{5:"[0-5]"}})}),Object(A.jsx)("div",{children:Object(A.jsxs)(d.a,{name:"type",component:V,label:"Dish type",id:"dishTypeField",onChange:function(e){s(e.target.value)},children:[Object(A.jsx)("option",{}),Object(A.jsx)("option",{value:"pizza",children:"Pizza"}),Object(A.jsx)("option",{value:"soup",children:"Soup"}),Object(A.jsx)("option",{value:"sandwich",children:"Sandwich"})]})}),Object(A.jsx)(k.a,{light:!0}),"pizza"===i?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{children:Object(A.jsx)(d.a,{name:"no_of_slices",component:q,label:"Number of slices",type:"number",InputProps:{inputProps:{min:0}}})}),Object(A.jsx)("div",{children:Object(A.jsx)(d.a,{name:"diameter",component:q,label:"Diameter",type:"number",InputProps:{inputProps:{min:0,step:.01}}})})]}):"soup"===i?Object(A.jsx)(A.Fragment,{children:Object(A.jsx)("div",{children:Object(A.jsx)(d.a,{name:"spiciness_scale",component:G,label:"Spiciness scale",InputProps:{min:1,max:10,step:1}})})}):"sandwich"===i?Object(A.jsx)(A.Fragment,{children:Object(A.jsx)("div",{children:Object(A.jsx)(d.a,{name:"slices_of_bread",component:q,label:"Number of slices",type:"number",InputProps:{inputProps:{min:0}}})})}):void 0,Object(A.jsx)(O.a,{variant:"contained",color:"primary",type:"submit",disabled:n,children:"Submit"})]})},K=H=Object(h.a)({form:"dishes",initialValues:{spiciness_scale:1},validate:function(e){var t={};return I(e.type).forEach((function(n){e[n]||(t[n]="Required")})),t}})(H),M=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(A.jsx)("div",{className:"App",children:Object(A.jsx)(K,{onSubmit:this.submit})})}}]),n}(r.a.Component),Q=n(44),U=n(17),W=n(290),X=Object(U.b)({form:W.a}),Y=Object(U.c)(X);i.a.render(Object(A.jsx)(Q.a,{store:Y,children:Object(A.jsx)(M,{})}),document.getElementById("root"))},97:function(e,t,n){}},[[245,1,2]]]);
//# sourceMappingURL=main.de8e3db2.chunk.js.map